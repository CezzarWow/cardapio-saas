/**
 * COMPATIBILITY.CSS
 * Ajustes específicos para navegadores (Samsung Internet, iOS Safari, etc)
 * Separa as "gambiarras" e ajustes finos do CSS principal.
 */

/* ==========================================================================
   SAMSUNG INTERNET BROWSER FIX
   Bug: Samsung ignora padding-bottom para scroll interno com elementos fixed
   ========================================================================== */
.modal-scroll-spacer {
    width: 100%;
    height: 1px;
    pointer-events: none;
    flex-shrink: 0;
}

/* Fixes específicos de scroll para Samsung (via classe JS) */
.samsung-browser .order-review-modal .cardapio-modal-body {
    padding-bottom: 70px !important;
}

.samsung-browser .cardapio-products {
    padding-bottom: 180px !important;
}

/* ==========================================================================
   ESTRATÉGIA MOBILE-FIRST (Compacto por Padrão no Mobile)
   ========================================================================== */

/* 1. REGRA GERAL PARA MOBILE (ANDROID / SAMSUNG / CHROME) 
   Aplica o layout ULTRA COMPACTO (-20%) para qualquer tela pequena.
   USANDO !IMPORTANT PARA FORÇAR O SAMSUNG A LER
*/
@media (max-width: 768px) {

    /* MODAL DE PAGAMENTO - Versão Super Reduzida */
    .payment-modal .cardapio-modal-body {
        padding: 8px 10px 12px 10px !important;
        /* Padding inferior levemente menor no geral */
    }

    .payment-total-box {
        padding: 10px 10px !important;
        margin-bottom: 8px !important;
        border-radius: 10px !important;
    }

    .payment-total-value {
        font-size: 1.15rem !important;
        /* Fonte menor */
    }

    .payment-section-title {
        font-size: 0.85rem !important;
        margin-top: 8px !important;
        margin-bottom: 6px !important;
    }

    .payment-form {
        gap: 8px !important;
    }

    .payment-input {
        padding: 10px 10px !important;
        /* Input fino */
        font-size: 0.85rem !important;
        border-radius: 8px !important;
        height: auto !important;
    }

    .payment-methods-list {
        gap: 6px !important;
    }

    .payment-method-option {
        padding: 10px 4px !important;
        border-radius: 10px !important;
    }

    .payment-method-icon {
        font-size: 1.25rem !important;
    }

    .payment-method-label {
        font-size: 0.6rem !important;
    }

    .send-order-btn {
        margin-top: 14px !important;
        margin-bottom: 14px !important;
        padding: 12px !important;
        font-size: 0.95rem !important;
    }

    .change-container {
        padding: 6px !important;
        margin-top: 4px !important;
    }
}


/* ==========================================================================
   iOS / SAFARI / CHROME (iPhone)
   Layout "LEVEMENTE REDUZIDO" (-8%)
   ========================================================================== */

/* Se for iOS (identificado por touch-callout), SOBRESCREVE com o layout maior */
@supports (-webkit-touch-callout: none) {

    /* MODAL DE PAGAMENTO - Redução de ~8% em relação ao layout original */
    .payment-modal .cardapio-modal-body {
        padding: 9px 12px 14px 12px !important;
        /* -1px padding */
    }

    .payment-total-box {
        padding: 12px 12px !important;
        /* -2px padding */
        margin-bottom: 9px !important;
        border-radius: 11px !important;
    }

    .payment-total-value {
        font-size: 1.3rem !important;
        /* -0.1rem */
    }

    .payment-section-title {
        font-size: 0.95rem !important;
        /* -0.1rem */
        margin-top: 9px !important;
        margin-bottom: 7px !important;
    }

    .payment-form {
        gap: 9px !important;
        /* -1px gap */
    }

    .payment-input {
        padding: 11px 11px !important;
        /* -1px padding */
        font-size: 0.92rem !important;
        /* leve redução font */
        border-radius: 9px !important;
    }

    .payment-methods-list {
        gap: 7px !important;
    }

    .payment-method-option {
        padding: 12px 5px !important;
        /* -2px padding */
        border-radius: 11px !important;
    }

    .payment-method-icon {
        font-size: 1.35rem !important;
        /* -0.15rem */
    }

    .payment-method-label {
        font-size: 0.6rem !important;
        /* ajustado */
    }

    /* Botão e Container de Troco mais compactos também */
    .send-order-btn {
        margin-top: 16px !important;
        margin-bottom: 16px !important;
        padding: 14px !important;
        font-size: 1.05rem !important;
    }

    .change-container {
        padding: 6px !important;
        margin-top: 6px !important;
    }
}